(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{60:function(e,t,s){},91:function(e,t,s){"use strict";s.r(t);s(58),s(59),s(60);var r=s(0),c=s.n(r),a=s(29),n=s.n(a),i=s(6),o=s(18),l=s(37),d=s(13),m=s(7),u=s(3),b=s.n(u),j=s(26),x=s(33),h=s.n(x);function p(e){return new Promise(function(){var t=Object(m.a)(b.a.mark((function t(s,r){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("https://icecream-api.azurewebsites.net/api/v1/auth/login",e);case 3:c=t.sent,s(c.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,s){return t.apply(this,arguments)}}())}function f(){return new Promise((function(e){e()}))}var g,O={isAuthenticated:function(){return!!v()},getToken:v,getRoles:function(){return sessionStorage.getItem("roles")||localStorage.getItem("roles")},login:function(e){return y.apply(this,arguments)},logout:function(){return w.apply(this,arguments)}};function v(){return sessionStorage.getItem("accessToken")||localStorage.getItem("accessToken")}function y(){return(y=Object(m.a)(b.a.mark((function e(t){var s,r,c,a,n,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.email,r=t.password,c=t.rememberMe,e.next=3,p({email:s,password:r});case 3:return a=e.sent,n=a.accessToken,i=a.user,o=a.roles,c?(localStorage.setItem("accessToken",n),localStorage.setItem("roles",o)):(sessionStorage.setItem("accessToken",n),sessionStorage.setItem("roles",o)),e.abrupt("return",{accessToken:n,user:i,roles:o});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:sessionStorage.removeItem("accessToken"),localStorage.removeItem("accessToken"),sessionStorage.removeItem("roles"),localStorage.removeItem("roles");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(j.b)("signin/checkAuth",Object(m.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.isAuthenticated()){e.next=4;break}return t=O.getToken(),s=O.getRoles(),e.abrupt("return",{token:t,roles:s});case 4:return e.abrupt("return",{token:null,roles:null});case 5:case"end":return e.stop()}}),e)})))),k=Object(j.b)("signin/login",O.login),S=Object(j.b)("signin/logout",O.logout),_={loading:!0,error:null,loggedIn:!1,loggedInUser:null,token:null,roles:null},I=Object(j.c)({name:"signin",initialState:_,reducers:{},extraReducers:(g={},Object(d.a)(g,N.pending,F),Object(d.a)(g,N.fulfilled,(function(e,t){var s=t.payload,r=s.token,c=void 0===r?null:r,a=s.roles,n=void 0===a?null:a;Object.assign(e,{loading:!1,error:null,loggedIn:!!c,token:c,roles:n})})),Object(d.a)(g,N.rejected,T),Object(d.a)(g,k.pending,F),Object(d.a)(g,k.fulfilled,(function(e,t){var s=t.payload,r=s.accessToken,c=s.user,a=s.roles;Object.assign(e,{loading:!1,loggedIn:!0,loggedInUser:c,token:r,roles:a})})),Object(d.a)(g,k.rejected,T),Object(d.a)(g,S.pending,F),Object(d.a)(g,S.fulfilled,(function(e){return Object.assign(e,Object(i.a)(Object(i.a)({},_),{},{loading:!1}))})),Object(d.a)(g,S.rejected,T),g)});function F(e){Object.assign(e,{loading:!0,error:null})}function T(e,t){console.log(t),Object.assign(e,{loading:!1,error:t.error})}var A=function(e){return e.signin},C=I.reducer,q=s(32),P=s(1);function E(){var e=Object(o.b)(),t=Object(q.a)(),s=t.register,r=t.handleSubmit;return Object(P.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(P.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{className:"mx-auto h-42 w-auto",src:"https://avatars.githubusercontent.com/u/91977050?s=200&v=4",alt:"Workflow"}),Object(P.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(P.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:r((function(t){e(k(t))})),children:[Object(P.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(P.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),Object(P.jsx)("input",Object(i.a)({id:"email",name:"email",type:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-ice_cream-500 focus:border-ice_cream-500 focus:z-10 sm:text-sm",placeholder:"Email address"},s("email",{required:!0})))]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(P.jsx)("input",Object(i.a)({id:"password",name:"password",type:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-ice_cream-500 focus:border-ice_cream-500 focus:z-10 sm:text-sm",placeholder:"Password"},s("password",{required:!0})))]})]}),Object(P.jsx)("div",{className:"flex items-center justify-between",children:Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsx)("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",className:"h-4 w-4 text-ice_cream-600 focus:ring-ice_cream-500 border-gray-300 rounded"}),Object(P.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),Object(P.jsx)("div",{children:Object(P.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-ice_cream hover:bg-ice_cream-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ice_cream-500",children:[Object(P.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(P.jsx)(l.a,{className:"h-5 w-5 text-ice_cream-500 group-hover:text-ice_cream-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})}var L=s(40),U=s(10);var z=function(){return Object(P.jsx)("div",{className:"flex justify-center items-center fixed h-full w-full left-0 top-0 bg-ice_cream",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-main"})})},B=["children","role"];function M(e){var t=e.children,s=(e.role,Object(L.a)(e,B)),c=Object(o.c)(A),a=c.loading,n=c.loggedIn,l=c.roles,d=Object(o.b)();return Object(r.useEffect)((function(){d(N())}),[d]),a?Object(P.jsx)(z,{}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(U.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return function(e){var s=e.pathname.includes("login"),r=(e.state||{from:{pathname:"/"}}).from;return console.log(e.pathname),n?s?Object(P.jsx)(U.a,{to:{pathname:r.pathname,state:{from:r}}}):e.pathname.includes("/")?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(U.a,{to:{pathname:"/".concat(l),state:{from:r}}}),t]}):Object(P.jsx)(U.a,{to:{pathname:r.pathname,state:{from:r}}}):s?t:Object(P.jsx)(U.a,{to:{pathname:"/login",state:{from:e}}})}(e.location)}}))})}var D=s(93),Z=s(94),R="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",G=[{name:"Sign out"}];function J(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}var H=function(){var e=Object(o.c)(A).roles,t=Object(o.b)(),s=Object(U.g)();function c(){return a.apply(this,arguments)}function a(){return(a=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(S());case 2:s.push("/web/login"),sessionStorage.removeItem("accessToken"),localStorage.removeItem("accessToken");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsx)("header",{children:Object(P.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl flex justify-between items-center",children:[Object(P.jsx)("div",{children:Object(P.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Dashboard ",e]})}),Object(P.jsxs)(D.a,{as:"div",className:"ml-3 relative",children:[Object(P.jsx)("div",{children:Object(P.jsxs)(D.a.Button,{className:"max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(P.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(P.jsx)("img",{className:"h-8 w-8 rounded-full",src:R,alt:""})]})}),Object(P.jsx)(Z.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(P.jsx)(D.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:G.map((function(e){return Object(P.jsx)(D.a.Item,{children:function(t){var s=t.active;return Object(P.jsx)("a",{href:"/login",className:J(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),onClick:"Sign out"===e.name?c:null,children:e.name})}},e.name)}))})})]})]})})},W=s(17),Q="https://icecream-api.azurewebsites.net/api/v1";function V(e){return new Promise(function(){var t=Object(m.a)(b.a.mark((function t(s,r){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get(Q+"/shops/my",{headers:{Authorization:"Bearer ".concat(e)}});case 3:c=t.sent,s(c.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,s){return t.apply(this,arguments)}}())}var K=function(){var e=Object(r.useState)(!1),t=Object(W.a)(e,2),s=t[0],c=t[1],a=Object(q.a)(),n=a.register,o=a.handleSubmit,l=a.formState.errors,d=a.setError,u=(0,a.watch)("LogoImage");return Object(P.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl mt-5",children:[Object(P.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Add ice cream shop"}),Object(P.jsx)("div",{className:"mt-10 sm:mt-0",children:Object(P.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:Object(P.jsx)("form",{onSubmit:o((function(e){var t=new FormData;for(var s in e)"LogoImage"===s?t.append(s,e[s][0]):t.append(s,e[s]);return new Promise((function(e,s){(function(e){var t=O.getToken();return new Promise(function(){var s=Object(m.a)(b.a.mark((function s(r,c){var a;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,h.a.post(Q+"/shops",e,{headers:{Authorization:"Bearer ".concat(t),"Content-type":"mulitpart/form-data"}});case 3:a=s.sent,r(a.data),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),c(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e,t){return s.apply(this,arguments)}}())})(t).then((function(){c(!0),e()}),(function(e){var t=e.response.data.errors;for(var r in t)d(r,{type:"server",message:t[r]});s()}))}))})),children:Object(P.jsxs)("div",{className:"overflow-hidden sm:rounded-md",children:[Object(P.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(P.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[Object(P.jsxs)("div",{className:"col-span-12 sm:col-span-6",children:[Object(P.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"name",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("Name",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.Name&&l.Name.message})]}),Object(P.jsxs)("div",{className:"col-span-12 sm:col-span-6",children:[Object(P.jsx)("label",{htmlFor:"OwnerEmail",className:"block text-sm font-medium text-gray-700",children:"OwnerEmail"}),Object(P.jsx)("input",Object(i.a)({type:"email",id:"OwnerEmail",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("OwnerEmail",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.OwnerEmail&&l.OwnerEmail.message})]}),Object(P.jsxs)("div",{className:"col-span-12",children:[Object(P.jsx)("label",{htmlFor:"Url",className:"block text-sm font-medium text-gray-700",children:"Url"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"Url",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("Url",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.Url&&l.Url.message})]}),Object(P.jsxs)("div",{className:"col-span-6 lg:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"Street",className:"block text-sm font-medium text-gray-700",children:"Street address"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"Street",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("Street",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.Street&&l.Street.message})]}),Object(P.jsxs)("div",{className:"col-span-6 lg:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"City",className:"block text-sm font-medium text-gray-700",children:"City"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"City",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("City",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.City&&l.City.message})]}),Object(P.jsxs)("div",{className:"col-span-6 lg:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"Apartment",className:"block text-sm font-medium text-gray-700",children:"Apartment"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"Apartment",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("Apartment",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.Apartment&&l.Apartment.message})]}),Object(P.jsxs)("div",{className:"col-span-6 lg:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"Zipcode",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal code"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"Zipcode",className:"t-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},n("Zipcode",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:l.Zipcode&&l.Zipcode.message})]}),Object(P.jsxs)("div",{className:"col-span-12",children:[Object(P.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover photo"}),Object(P.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:Object(P.jsxs)("div",{className:"space-y-1 text-center",children:[Object(P.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:Object(P.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),Object(P.jsx)("div",{className:"flex text-sm justify-center text-gray-600",children:Object(P.jsxs)("label",{htmlFor:"LogoImage",className:"relative cursor-pointer bg-white rounded-md font-medium text-ice_cream hover:text-ice_cream focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-ice_cream",children:[Object(P.jsx)("span",{children:u&&u.length>0?u[0].name:"Upload a file"}),Object(P.jsx)("input",Object(i.a)({id:"LogoImage",name:"file-upload",type:"file",className:"sr-only"},n("LogoImage",{required:!0})))]})}),Object(P.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}),Object(P.jsx)("div",{className:"text-red-400",children:l.LogoImage&&l.LogoImage.message})]})]})}),Object(P.jsxs)("div",{className:"px-4 py-3 text-right sm:px-6",children:[Object(P.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-ice_cream hover:bg-ice_cream focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ice_cream",children:"Save"}),s&&Object(P.jsx)("div",{className:"mt-5",children:"Dodano pomy\u015blnie"})]})]})})})})]})},X=s.p+"static/media/logo.7118c2d5.png",Y=s(24),$=[{name:"Dashboard",href:"#",current:!0}];var ee=function(){return Object(P.jsx)("div",{children:Object(P.jsxs)("main",{className:"max-w-screen-2xl mx-auto flex lg:flex-row flex-col",children:[Object(P.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl lg:w-1/5 m-5 flex justify-start flex-col items-center",children:[Object(P.jsx)("img",{className:"h-32 w-32 rounded-full",src:X,alt:""}),Object(P.jsx)("div",{className:"hidden sm:block",children:Object(P.jsx)("div",{className:"flex flex-col space-x-4",children:$.map((function(e){return Object(P.jsx)(Y.b,{exact:!0,to:e.href,activeClassName:"bg-gray-900 text-white",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium mt-3",children:e.name},e.name)}))})})]}),Object(P.jsxs)("div",{className:"flex-1 flex-col m-5",children:[Object(P.jsx)(H,{}),Object(P.jsx)(K,{})]})]})})},te=Object(j.c)({name:"myshop",initialState:{shopId:null},reducers:{setShopId:function(e,t){e.shopId=t.payload}},extraReducers:{}}),se=function(e){return e.myshop},re=te.actions.setShopId,ce=te.reducer,ae=["id"];var ne=function(){var e=Object(r.useState)(),t=Object(W.a)(e,2),s=t[0],c=t[1],a=Object(o.b)();return Object(r.useEffect)((function(){return new Promise(function(){var e=Object(m.a)(b.a.mark((function e(t,s){var r,n,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.getToken(),e.prev=1,e.next=4,V(r);case 4:n=e.sent,o=n.id,l=Object(L.a)(n,ae),a(re(o)),c(Object(i.a)({},l)),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),s(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}())}),[a]),Object(P.jsx)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl mt-5",children:Object(P.jsx)("div",{className:"bg-white overflow-hidden sm:rounded-lg",children:s?Object(P.jsxs)("div",{className:"grid grid-cols-12",children:[Object(P.jsxs)("div",{className:"col-span-6",children:[Object(P.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between",children:[Object(P.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"My Shop"}),Object(P.jsx)("div",{className:"logo",children:Object(P.jsx)("img",{className:"h-32 w-32 rounded-full",src:s.photoUrl,alt:""})})]}),Object(P.jsx)("div",{className:"border-t border-gray-200",children:Object(P.jsxs)("dl",{children:[Object(P.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(P.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),Object(P.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.name})]}),Object(P.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(P.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"City/Zipcode"}),Object(P.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.address&&s.address.city+" "+s.address.zipcode})]}),Object(P.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(P.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Street/Apartment"}),Object(P.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.address&&s.address.street+" "+s.address.apartment})]}),Object(P.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(P.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Url"}),Object(P.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.url})]})]})})]}),Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsx)("div",{className:"p-5",children:s.iceCreams&&s.iceCreams.map((function(e,t){return Object(P.jsxs)("div",{className:"shadow rounded-xl p-5",children:[Object(P.jsx)("h4",{className:"font-medium text-lg leading-6 text-gray-900",children:e.name}),Object(P.jsxs)("div",{className:"flex items-center my-3 text-sm flex-wrap",children:["Tags:",Object(P.jsx)("span",{className:"px-4 py-2 mx-1 rounded-full text-green-500 bg-green-200 font-semibold text-xs flex align-center w-max active:bg-gray-300 transition duration-300 ease",children:e.tags},e.id)]}),Object(P.jsxs)("div",{className:"flex items-center text-sm flex-wrap",children:["Flavours:",e.flavours.map((function(e,t){return Object(P.jsx)("span",{className:"px-4 py-2 m-1 rounded-full text-blue-500 bg-blue-200 font-semibold text-xs flex align-center w-max active:bg-gray-300 transition duration-300 ease",children:e},e)}))]})]},t)}))})})]}):Object(P.jsx)("div",{children:"not found"})})})},ie=s(8),oe=s(92);var le=function(){var e=Object(o.c)(se).shopId,t=Object(r.useState)([]),s=Object(W.a)(t,2),c=s[0],a=s[1],n=Object(r.useState)([]),d=Object(W.a)(n,2),u=d[0],j=d[1],x=Object(r.useState)(0),p=Object(W.a)(x,2),f=p[0],g=p[1],v=Object(r.useState)(0),y=Object(W.a)(v,2),w=y[0],N=y[1],k=Object(r.useState)(!1),S=Object(W.a)(k,2),_=S[0],I=S[1],F=Object(U.g)(),T=Object(q.a)(),A=T.register,C=T.handleSubmit,E=T.formState.errors,L=function(e){return function(){a((function(t){return Object(ie.a)(t.filter((function(t){return t!==e})))})),g((function(e){return e-1}))}},z=function(e){return function(){j((function(t){return Object(ie.a)(t.filter((function(t){return t!==e})))})),N((function(e){return e-1}))}};function B(){F.push("/ShopOwner"),I(!1)}return Object(P.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl mt-5",children:[Object(P.jsxs)("div",{className:"bg-white overflow-hidden sm:rounded-lg p-5",children:[Object(P.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Add ice cream"}),Object(P.jsx)("div",{className:"mt-10 sm:mt-0",children:Object(P.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:Object(P.jsx)("form",{onSubmit:C((function(t){return new Promise((function(s,r){(function(e,t){var s=O.getToken();return new Promise(function(){var r=Object(m.a)(b.a.mark((function r(c,a){var n;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h.a.post(Q+"/shops/".concat(e,"/ice-cream"),t,{headers:{Authorization:"Bearer ".concat(s)}});case 3:n=r.sent,c(n.data),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),a(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,t){return r.apply(this,arguments)}}())})(e,t).then((function(){I(!0),s()}),(function(e){return r(e)}))}))})),children:Object(P.jsxs)("div",{className:"overflow-hidden sm:rounded-md",children:[Object(P.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(P.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[Object(P.jsxs)("div",{className:"col-span-12 sm:col-span-6",children:[Object(P.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),Object(P.jsx)("input",Object(i.a)({type:"text",id:"name",className:"t-1 mt-3 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},A("name",{required:!0}))),Object(P.jsx)("div",{className:"text-red-400",children:E.name&&E.name.message})]}),Object(P.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"Tags",className:"block text-sm font-medium text-gray-700",children:"Tags"}),c.map((function(e,t){return Object(P.jsx)("label",{children:Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsx)("input",Object(i.a)({type:"text",name:"tags",className:"t-1 mt-3 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},A("tags.".concat(e),{required:!0}))),Object(P.jsx)(l.b,{className:"h-5 w-5 mt-3 ml-2 text-ice_cream-500 group-hover:text-ice_cream-400 cursor-pointer","aria-hidden":"true",onClick:L(e)})]})},t)})),Object(P.jsx)("button",{type:"button",onClick:function(){a((function(e){return[].concat(Object(ie.a)(e),[f])})),g((function(e){return e+1}))},className:"inline-flex justify-center mt-3 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-ice_cream hover:bg-ice_cream focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ice_cream",children:"Add New Tag"}),Object(P.jsx)("div",{className:"text-red-400",children:E.tags&&E.tags.message})]}),Object(P.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(P.jsx)("label",{htmlFor:"Flavours",className:"block text-sm font-medium text-gray-700",children:"Flavours"}),u.map((function(e,t){return Object(P.jsx)("label",{children:Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsx)("input",Object(i.a)({type:"text",name:"flavours",className:"t-1 mt-3 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-ice_cream focus:border-ice_cream sm:text-sm"},A("flavours.".concat(e),{required:!0}))),Object(P.jsx)(l.b,{className:"h-5 w-5 mt-3 ml-2 text-ice_cream-500 group-hover:text-ice_cream-400 cursor-pointer","aria-hidden":"true",onClick:z(e)})]})},t)})),Object(P.jsx)("button",{type:"button",onClick:function(){j((function(e){return[].concat(Object(ie.a)(e),[w])})),N((function(e){return e+1}))},className:"inline-flex justify-center mt-3 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-ice_cream hover:bg-ice_cream focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ice_cream",children:"Add New Flavour"}),Object(P.jsx)("div",{className:"text-red-400",children:E.flavours&&E.flavours.message})]})]})}),Object(P.jsx)("div",{className:"px-4 py-3 text-right sm:px-6",children:Object(P.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-ice_cream hover:bg-ice_cream focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ice_cream",children:"Save"})})]})})})})]}),Object(P.jsx)(Z.a,{appear:!0,show:_,as:r.Fragment,children:Object(P.jsx)(oe.a,{as:"div",className:"fixed inset-0 z-20 overflow-y-auto",onClose:B,children:Object(P.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(P.jsx)(Z.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(P.jsx)(oe.a.Overlay,{className:"fixed inset-0 bg-black opacity-30"})}),Object(P.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(P.jsx)(Z.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(P.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-center align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[Object(P.jsx)(oe.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Dodano pomy\u015blnie"}),Object(P.jsx)("div",{className:"mt-2",children:Object(P.jsx)("p",{className:"text-sm text-gray-500",children:"Tw\xf3j l\xf3d zosta\u0142 dodany!"})}),Object(P.jsx)("div",{className:"mt-4",children:Object(P.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-ice_cream border border-transparent rounded-md hover:bg-ice_cream-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ice_cream",onClick:B,children:"Go Back to shop"})})]})})]})})})]})},de=[{name:"Dashboard",href:"/ShopOwner"},{name:"Add ice cream",href:"/ShopOwner/Add"}];var me=function(){return Object(P.jsx)("div",{children:Object(P.jsx)("main",{className:"max-w-screen-2xl mx-auto flex lg:flex-row flex-col",children:Object(P.jsxs)(Y.a,{children:[Object(P.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-2xl lg:w-1/5 m-5 flex justify-start flex-col items-center",children:[Object(P.jsx)("img",{className:"h-32 w-32 rounded-full",src:X,alt:""}),Object(P.jsx)("div",{className:"hidden sm:block",children:Object(P.jsx)("div",{className:"flex flex-col",children:de.map((function(e,t){return Object(P.jsx)(Y.b,{exact:!0,to:e.href,activeClassName:"bg-gray-900 text-white",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium mt-3",children:e.name},t)}))})})]}),Object(P.jsxs)("div",{className:"flex-1 flex-col m-5",children:[Object(P.jsx)(H,{}),Object(P.jsxs)(U.d,{children:[Object(P.jsx)(U.b,{path:"/ShopOwner/Add",component:le}),Object(P.jsx)(U.b,{path:"/ShopOwner",component:ne})]})]})]})})})};var ue=function(){return Object(P.jsx)("div",{className:"App",children:Object(P.jsxs)(U.d,{children:[Object(P.jsx)(M,{exact:!0,path:"/Admin",role:"Admin",children:Object(P.jsx)(ee,{})}),Object(P.jsx)(M,{exact:!0,path:"/ShopOwner",role:"ShopOwner",children:Object(P.jsx)(me,{})}),Object(P.jsx)(M,{path:["/","/login"],children:Object(P.jsx)(E,{})})]})})},be=Object(j.a)({reducer:{signin:C,myshop:ce}});n.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(o.a,{store:be,children:Object(P.jsx)(Y.a,{basename:"/web",children:Object(P.jsx)(U.b,{path:"/",component:ue})})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.c7d835b6.chunk.js.map